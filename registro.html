<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Registro - Residencia Aurum</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="estilos_comunes.css" />
</head>
<body>

  <h1 class="titulo">Registro de Usuario</h1>

  <nav class="menu">
    <ol>
      <li class="menu-item"><a href="index.html">Home</a></li>
      <li class="menu-item"><a href="sobre_nosotros.html">Sobre Nosotros</a></li>
      <li class="menu-item"><a href="ubicacion.html">Ubicación</a></li>
      <li class="menu-item"><a href="cuenta.html">Cuenta</a></li>
      <li class="menu-item"><a href="reservas.html">Reservas</a></li>
      <li class="menu-item active"><a href="registro.html">Registro</a></li>
    </ol>
  </nav>

  <div class="container mt-5" style="max-width: 400px;">
    <form id="registroForm" method="POST" action="procesar_registro.php" novalidate>
      <div class="mb-3">
        <label for="nombre" class="form-label">Nombre completo</label>
        <input type="text" class="form-control" id="nombre" name="nombre" placeholder="Ingresa tu nombre completo" required />
      </div>
      <div class="mb-3">
        <label for="correo" class="form-label">Correo electrónico</label>
        <input type="email" class="form-control" id="correo" name="correo" placeholder="Ingresa tu correo electrónico" required />
      </div>
      <div class="mb-3">
        <label for="telefono" class="form-label">Teléfono</label>
        <input type="tel" class="form-control" id="telefono" name="telefono" placeholder="Ingresa tu teléfono" pattern="^\d{10,15}$" required />
      </div>
      <div class="mb-3">
        <label for="contrasena" class="form-label">Contraseña</label>
        <input type="password" class="form-control" id="contrasena" name="contrasena" placeholder="Ingresa una contraseña" required minlength="6" />
      </div>
      <div class="mb-3">
        <label for="confirmar" class="form-label">Confirmar contraseña</label>
        <input type="password" class="form-control" id="confirmar" name="confirmar" placeholder="Confirma tu contraseña" required minlength="6" />
      </div>
      <button type="submit" class="btn btn-primary w-100">Registrar</button>
    </form>
    <div id="mensaje" class="mt-3"></div>
  </div>

  <footer>
    <p>&copy; Aurum Residencia. Proyecto.</p>
    <p>Contacto: info@aurumresidencia.com | Teléfono: 81 5623 5489</p>    
  </footer>

  <script>
    document.getElementById('registroForm').addEventListener('submit', function(event) {
      event.preventDefault();

      const nombre = document.getElementById('nombre').value.trim();
      const correo = document.getElementById('correo').value.trim();
      const telefono = document.getElementById('telefono').value.trim();
      const contrasena = document.getElementById('contrasena').value;
      const confirmar = document.getElementById('confirmar').value;
      const mensajeDiv = document.getElementById('mensaje');

      // Validaciones básicas
      if (nombre.length === 0) {
        mostrarMensaje('El nombre completo es obligatorio.', 'danger');
        return;
      }
      const regexEmail = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!regexEmail.test(correo)) {
        mostrarMensaje('Correo electrónico no válido.', 'danger');
        return;
      }
      const regexTelefono = /^\d{10,15}$/;
      if (!regexTelefono.test(telefono)) {
        mostrarMensaje('Teléfono no válido. Solo números, entre 10 y 15 dígitos.', 'danger');
        return;
      }
      if (contrasena.length < 6) {
        mostrarMensaje('La contraseña debe tener al menos 6 caracteres.', 'danger');
        return;
      }
      if (contrasena !== confirmar) {
        mostrarMensaje('Las contraseñas no coinciden.', 'danger');
        return;
      }

      mensajeDiv.innerHTML = '';

      // Enviar formulario
      this.submit();
    });

    function mostrarMensaje(texto, tipo) {
      const mensajeDiv = document.getElementById('mensaje');
      mensajeDiv.innerHTML = `<div class="alert alert-${tipo}">${texto}</div>`;
    }
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
